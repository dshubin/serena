<step-type name="Bulk Delete Cookbooks">
  <description> This will delete cookbooks in bulk.</description>
  <properties>
    <property name="regex" required="true">  
      <property-ui type="textBox" label="Enter regular expression" description="Regular expression to delete multiple cookbooks."/>
    </property>      
    <property name="purge">  
      <property-ui type="checkBox" label="Purge" description="Optional. Completly remove cookbooks from the server."/>
    </property>     
  </properties>
  <post-processing><![CDATA[
      if (properties.get("exitCode") != 0) {
          properties.put("Status", "Failure");
      }
      else {
          properties.put("Status", "Success");
      }
   ]]></post-processing>

  <command program="${GROOVY_HOME}/bin/groovy">
    <arg file="bulkDeleteCookbook.groovy"/>
    <arg file="${PLUGIN_INPUT_PROPS}"/>
    <arg file="${PLUGIN_OUTPUT_PROPS}"/>
  </command>
  
</step-type>
