  <step-type name="Add Node Run-List">
    <description> Add to the run-list of a Node by adding recipes or roles in a specific order.</description>
    <properties>
      <property name="name" required="true">  
        <property-ui type="textBox" label="Node Name" description="Name of the node you wish to update."/>
      </property>      
      <property name="runList" required="true">  
        <property-ui type="textBox" label="Run-List Item" description="A comma seperate list of roles and recipes you want to add. roles are entered as 'role[ROLE_NAME]'. The full recipe format is 'recipe[COOKBOOK::RECIPE_NAME]'. Recipes can also be added with a cookbook by 'COOKBOOK::RECIPE_NAME'. Lastly, the default recipe can be added by 'COOKBOOK'"/>
      </property>      
      <property name="after">  
        <property-ui type="textBox" label="After Item" description="Add the run-list item after the specified item."/>
      </property>      
    </properties>
    <post-processing><![CDATA[
        if (properties.get("exitCode") != 0) {
            properties.put("Status", "Failure");
        }
        else {
            properties.put("Status", "Success");
        }
     ]]></post-processing>

    <command program="${GROOVY_HOME}/bin/groovy">
      <arg file="addRunList.groovy"/>
      <arg file="${PLUGIN_INPUT_PROPS}"/>
      <arg file="${PLUGIN_OUTPUT_PROPS}"/>
    </command>
    
  </step-type>
